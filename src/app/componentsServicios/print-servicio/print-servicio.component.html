<!-- Contenedor de la sección ver servicios -->
<div class="moduleContainer">

  <app-title-bar [titulo]="title"></app-title-bar>

  <div class="childContainer">

    <section class="" id="seccionInfoServicio">

      <div class="cardContainer">

        <div class="container">

          <div class="row">

            <div class="col-md-10 mb-3 p-0">
              <div class="card">
                <div class="card-body paddingBody">
                  <h6 class="card-title">
                    <span class="mr-3">{{ recurrencia > 0 ? 'Cantidad de renovaciones: ' + recurrencia :'Este servicio no presenta renovaciones'}}</span>
                    <span class="mr-3" *ngIf="recurrencia > 0">ID Referente: {{ servicioRecibido.referencia }}</span>
                  </h6>
                </div>
              </div>
            </div>

            <div class="col-md-2 mb-3 p-0">
              <div class="card">
                <div class="card-body paddingBody">
                  <h6 class="card-title textCenter">
                    <span>ID: {{ servicioRecibido.id }}</span>
                  </h6>
                </div>
              </div>
            </div>

          </div>

          <div class="row">
            <div class="col-md-12 mb-3 p-0">

              <div class="card">
                <div class="card-body paddingBody">
                  <h6 class="card-title">
                    <span class="mr-3">Cliente: {{ servicioRecibido.cliente }}</span>
                    <span class="mr-3">Rubro: {{ servicioRecibido.rubro }}</span>
                    <span (click)="openDialog()" class="mr-3 link">Datos de contacto</span>
                  </h6>
                </div>
              </div>

            </div>
          </div>

          <div class="row">
            <div class="col-md-12 mb-3 p-0">
          
              <div class="card">
                <div class="card-body paddingBody">
                  <h6 class="card-title">{{avance === 0 ? 'Aún no se ha comenzado a trabajar' : avance === 100 ? 'Servicio finalizado':'Avance'}}</h6>
                  <div class="progress" role="progressbar" [attr.aria-valuenow]="avance" aria-valuemin="0" aria-valuemax="100">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" [style.width.%]="avance">
                      {{ avance === 100 ? 'Completo' : avance + '%'}}
                    </div>
                  </div>
                </div>
              </div>
          
            </div>
          </div>

          <div class="row">
            <div class="col-md-3 mb-3 p-0">

              <div class="card selectStyle">
                <div class="card-body paddingBody">
                  <h6 class="card-title">Tipo de servicio</h6>
                  <p class="card-text">{{ servicioRecibido.tipo }}</p>
                </div>
              </div>

            </div>

            <div class="col-md-3 mb-3 p-0">
              <div class="card selectStyle">
                <div class="card-body paddingBody">
                  <h6 class="card-title">Estado</h6>
                  <p class="card-text" style="color: #673ab7;">{{ servicioRecibido.estado }}</p>
                </div>
              </div>
            </div>

            <div class="col-md-3 mb-3 p-0">
              <div class="card selectStyle">
                <div class="card-body paddingBody">
                  <h6 class="card-title">Recordatorio</h6>
                  <span style="display: flex;">
                    <p class="card-text">{{ servicioRecibido.fecha_notificacion | date:'dd/MM/yyyy'}}</p>
                    <p class="card-text" style="margin-left: .5rem;">{{ servicioRecibido.fecha_notificacion |
                      date:'HH:mm'}}</p>
                  </span>
                </div>
              </div>
            </div>

            <div class="col-md-3 mb-3 p-0">
              <div class="card selectStyle">
                <div class="card-body paddingBody textCenter">
                  <h6 class="card-title">Se ha presupuestado</h6>
                  <p class="card-text">{{"$ "+servicioRecibido.total_presupuestado}}</p>
                </div>
              </div>
            </div>

          </div>

          <div class="row" style="display: flex; justify-content: space-between;">

            <div class="col-md-7 mb-3 p-0">
              <div class="card">
                <div class="card-body paddingBody">
                  <h6 class="card-title">Comentario</h6>
                  <p style="font-style: oblique;" class="card-text">{{servicioRecibido.comentario}}</p>
                </div>
              </div>
            </div>

            <div class="col-md-4 mb-3 p-0">

              <div class="card">
                <div class="card-body paddingBody">
                  <h6>Check List</h6>
                  <div id="checkBox" class="list-group" *ngFor="let item of servicioRecibido.itemChecklistDto">
                    <p class="list-group-item list-group-item-action checkboxContainer selectStyle">
                      <mat-checkbox [checked]="item.completo" (change)="updateAvance(item)"></mat-checkbox> {{item.nombreItem}}
                    </p>
                  </div>
                </div>
              </div>
            </div>

          </div>

        </div>

      </div>

    </section>

  </div>

</div>